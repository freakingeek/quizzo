import{_ as w,k as y,w as S,f as h,l as k,d as m,a as b,g as s,m as C,h as M,T as x,D as V,r as v,c as I,p as L,b as u,F as z,e as p,t as _,q as g,u as E,s as N,v as O}from"./index-36221392.js";const q={name:"VModal",props:{show:{type:String,default:!0}},setup(a,{emit:t}){const d=y(a,"show"),e=()=>{t("on-close")},c=o=>{const n=document.querySelector(".modal-wrapper");o.target===n&&e()},r=o=>{o.key==="Escape"&&e()};return S(d,o=>{o?(document.addEventListener("keyup",r),document.addEventListener("click",c)):(document.removeEventListener("keyup",r),document.removeEventListener("click",c))},{immediate:!0}),{show:d,onBackgroundClicked:c,onEscapeKeyClicked:r}}},B={key:0,class:"modal-wrapper"},R={class:"modal"};function D(a,t,d,e,c,r){return h(),k(x,{name:"modal"},{default:m(()=>[e.show?(h(),b("div",B,[s("div",R,[C(a.$slots,"default",{},void 0,!0)])])):M("",!0)]),_:3})}const j=w(q,[["render",D],["__scopeId","data-v-1701abbd"]]),f=[{name:"فضانورد خفن",summary:"مثل همیشه عالی بود و باید بگم از شما کم‌تر از این هم انتظار نمی‌رفت.",image:"https://github.com/sttatusx/quizzo/raw/main/src/assets/images/astronaut.jpg",minimumScore:2700},{name:"فیل مهربون",summary:"این فیل مهربون همیشه پیش‌تون می‌مونه تا شما یه‌وقت احساس تنهایی نکنید.",image:"https://github.com/sttatusx/quizzo/raw/main/src/assets/images/elephant.jpg",minimumScore:1500},{name:"تنبل نیمه‌جان",summary:"شاید اگر حتی اندکی کارتان بهتر بود والدین‌تان به شما افتخار می‌کردند.",image:"https://github.com/sttatusx/quizzo/raw/main/src/assets/images/sloths.jpg",minimumScore:0}];const J={name:"ResultView",components:{VModal:j,DefaultLayout:V},setup(){const a=v(0),t=v(!1),d=E(),e=I(()=>f.find(n=>a.value>=n.minimumScore));L(()=>{localStorage.getItem("score")&&(a.value=JSON.parse(localStorage.getItem("score")))});const c=()=>{t.value=!0},r=()=>{t.value=!1},i=n=>{let l=[];localStorage.getItem("leaderboard")&&(l=JSON.parse(localStorage.getItem("leaderboard"))),l.push(n),localStorage.setItem("leaderboard",JSON.stringify(l))};return{score:a,isModalOpen:t,characters:f,character:e,openModal:c,closeModal:r,onCharacterSubmited:()=>{i({image:e.value.image,name:e.value.name,score:a.value}),t.value=!1,d.push("/")}}}},T=a=>(N("data-v-ee08a672"),a=a(),O(),a),F={class:"character"},H={class:"character__avatar-box"},K=["src","alt"],W={class:"character__name"},A={class:"character__summary"},G=g(" شما موفق به کسب کاراکتر "),P={class:"character__summary-bold"},Q=T(()=>s("h1",{class:"result-view__title"},"تموم شد!",-1)),U={class:"result-view__description"},X={class:"result-view__actions"},Y=g("تلاش مجدد");function Z(a,t,d,e,c,r){const i=p("VModal"),o=p("RouterLink"),n=p("DefaultLayout");return h(),b(z,null,[u(i,{show:e.isModalOpen,onOnClose:e.closeModal},{default:m(()=>[s("div",F,[s("div",H,[s("img",{src:e.character.image,alt:e.character.name,class:"character__avatar"},null,8,K)]),s("span",W,_(e.character.name),1),s("p",A,[G,s("span",P,"«"+_(e.character.name)+"»",1),g(" شدید! "+_(e.character.summary),1)])]),s("button",{class:"action",onClick:t[0]||(t[0]=(...l)=>e.onCharacterSubmited&&e.onCharacterSubmited(...l))},"پذیرش کاراکتر")]),_:1},8,["show","onOnClose"]),u(n,{class:"result-view"},{default:m(()=>[Q,s("span",U,"تبریک! شما توی این مسابقه "+_(e.score)+" امتیاز دریافت کردید!",1),s("div",X,[s("button",{class:"result-view__show-results",onClick:t[1]||(t[1]=(...l)=>e.openModal&&e.openModal(...l))},"مشاهده نتایج"),u(o,{to:"/quiz",class:"result-view__retry"},{default:m(()=>[Y]),_:1})])]),_:1})],64)}const ee=w(J,[["render",Z],["__scopeId","data-v-ee08a672"]]);export{ee as default};

import{_ as u,o as l,g as y,w as r,c as h,b as a,h as w,d as k,T as S,D as C,r as i,a as d,F as b,t as o,i as _,p as M,j as x}from"./index.41c5279f.js";const L={name:"VModal",props:{show:{type:String,default:!0}},watch:{show:{handler(e){e?(document.addEventListener("keyup",this.onEscapeKeyClicked),document.addEventListener("click",this.onBackgroundClicked)):(document.removeEventListener("keyup",this.onEscapeKeyClicked),document.removeEventListener("click",this.onBackgroundClicked))},immediate:!0}},methods:{onClose(){this.$emit("on-close")},onBackgroundClicked(e){const t=document.querySelector(".modal-wrapper");e.target===t&&this.onClose()},onEscapeKeyClicked(e){e.key==="Escape"&&this.onClose()}}},V={key:0,class:"modal-wrapper"},I={class:"modal"};function O(e,t,m,p,c,s){return l(),y(S,{name:"modal"},{default:r(()=>[m.show?(l(),h("div",V,[a("div",I,[w(e.$slots,"default",{},void 0,!0)])])):k("",!0)]),_:3})}var E=u(L,[["render",O],["__scopeId","data-v-5f321f32"]]),z=[{name:"\u0641\u0636\u0627\u0646\u0648\u0631\u062F \u062E\u0641\u0646",summary:"\u0645\u062B\u0644 \u0647\u0645\u06CC\u0634\u0647 \u0639\u0627\u0644\u06CC \u0628\u0648\u062F \u0648 \u0628\u0627\u06CC\u062F \u0628\u06AF\u0645 \u0627\u0632 \u0634\u0645\u0627 \u06A9\u0645\u200C\u062A\u0631 \u0627\u0632 \u0627\u06CC\u0646 \u0647\u0645 \u0627\u0646\u062A\u0638\u0627\u0631 \u0646\u0645\u06CC\u200C\u0631\u0641\u062A.",image:"https://github.com/sttatusx/quizzo/raw/main/src/assets/images/astronaut.jpg",minimumScore:2700},{name:"\u0641\u06CC\u0644 \u0645\u0647\u0631\u0628\u0648\u0646",summary:"\u0627\u06CC\u0646 \u0641\u06CC\u0644 \u0645\u0647\u0631\u0628\u0648\u0646 \u0647\u0645\u06CC\u0634\u0647 \u067E\u06CC\u0634\u200C\u062A\u0648\u0646 \u0645\u06CC\u200C\u0645\u0648\u0646\u0647 \u062A\u0627 \u0634\u0645\u0627 \u06CC\u0647\u200C\u0648\u0642\u062A \u0627\u062D\u0633\u0627\u0633 \u062A\u0646\u0647\u0627\u06CC\u06CC \u0646\u06A9\u0646\u06CC\u062F.",image:"https://github.com/sttatusx/quizzo/raw/main/src/assets/images/elephant.jpg",minimumScore:1500},{name:"\u062A\u0646\u0628\u0644 \u0646\u06CC\u0645\u0647\u200C\u062C\u0627\u0646",summary:"\u0634\u0627\u06CC\u062F \u0627\u06AF\u0631 \u062D\u062A\u06CC \u0627\u0646\u062F\u06A9\u06CC \u06A9\u0627\u0631\u062A\u0627\u0646 \u0628\u0647\u062A\u0631 \u0628\u0648\u062F \u0648\u0627\u0644\u062F\u06CC\u0646\u200C\u062A\u0627\u0646 \u0628\u0647 \u0634\u0645\u0627 \u0627\u0641\u062A\u062E\u0627\u0631 \u0645\u06CC\u200C\u06A9\u0631\u062F\u0646\u062F.",image:"https://github.com/sttatusx/quizzo/raw/main/src/assets/images/sloths.jpg",minimumScore:0}];const B={name:"ResultView",components:{VModal:E,DefaultLayout:C},data(){return{characters:z,score:0,isModalOpen:!1}},computed:{character(){return this.characters.find(e=>this.score>=e.minimumScore)}},created(){localStorage.getItem("score")&&(this.score=JSON.parse(localStorage.getItem("score")))},methods:{openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},onCharacterSubmited(){this.updateLeaderboard({image:this.character.image,name:this.character.name,score:this.score}),this.isModalOpen=!1,this.$router.push("/")},updateLeaderboard(e){let t=[];localStorage.getItem("leaderboard")&&(t=JSON.parse(localStorage.getItem("leaderboard"))),t.push(e),localStorage.setItem("leaderboard",JSON.stringify(t))}}},N=e=>(M("data-v-4373c729"),e=e(),x(),e),q={class:"character"},D={class:"character__avatar-box"},j=["src","alt"],R={class:"character__name"},J={class:"character__summary"},K=_(" \u0634\u0645\u0627 \u0645\u0648\u0641\u0642 \u0628\u0647 \u06A9\u0633\u0628 \u06A9\u0627\u0631\u0627\u06A9\u062A\u0631 "),T={class:"character__summary-bold"},F=N(()=>a("h1",{class:"result-view__title"},"\u062A\u0645\u0648\u0645 \u0634\u062F!",-1)),$={class:"result-view__description"},W={class:"result-view__actions"},A=_("\u062A\u0644\u0627\u0634 \u0645\u062C\u062F\u062F");function G(e,t,m,p,c,s){const g=i("VModal"),f=i("RouterLink"),v=i("DefaultLayout");return l(),h(b,null,[d(g,{show:c.isModalOpen,onOnClose:s.closeModal},{default:r(()=>[a("div",q,[a("div",D,[a("img",{src:s.character.image,alt:s.character.name,class:"character__avatar"},null,8,j)]),a("span",R,o(s.character.name),1),a("p",J,[K,a("span",T,"\xAB"+o(s.character.name)+"\xBB",1),_(" \u0634\u062F\u06CC\u062F! "+o(s.character.summary),1)])]),a("button",{class:"action",onClick:t[0]||(t[0]=(...n)=>s.onCharacterSubmited&&s.onCharacterSubmited(...n))},"\u067E\u0630\u06CC\u0631\u0634 \u06A9\u0627\u0631\u0627\u06A9\u062A\u0631")]),_:1},8,["show","onOnClose"]),d(v,{class:"result-view"},{default:r(()=>[F,a("span",$,"\u062A\u0628\u0631\u06CC\u06A9! \u0634\u0645\u0627 \u062A\u0648\u06CC \u0627\u06CC\u0646 \u0645\u0633\u0627\u0628\u0642\u0647 "+o(c.score)+" \u0627\u0645\u062A\u06CC\u0627\u0632 \u062F\u0631\u06CC\u0627\u0641\u062A \u06A9\u0631\u062F\u06CC\u062F!",1),a("div",W,[a("button",{class:"result-view__show-results",onClick:t[1]||(t[1]=(...n)=>s.openModal&&s.openModal(...n))},"\u0645\u0634\u0627\u0647\u062F\u0647 \u0646\u062A\u0627\u06CC\u062C"),d(f,{to:"/quiz",class:"result-view__retry"},{default:r(()=>[A]),_:1})])]),_:1})],64)}var P=u(B,[["render",G],["__scopeId","data-v-4373c729"]]);export{P as default};
